<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="jakarta.faces.core">
<h:head>
    <title>Book List</title>
    <style>
        .card { display:inline-block; width:270px; border:1px solid #ccc; border-radius:8px; margin:10px; padding:10px; text-align:center; box-shadow:2px 2px 8px rgba(0,0,0,0.2); }
        .card img { width:150px; height:200px; object-fit:cover; border-radius:5px; margin:5px; }
        .book-title { font-size:18px; font-weight:bold; color:#2c3e50; }
        .book-info { font-size:14px; color:#555; }
        .buttons { margin-top:5px; }
    </style>
</h:head>
<h:body>
<h2>Book List</h2>

<h:messages globalOnly="true" style="color:green;" />

<ui:repeat value="#{bookBean.allBooks}" var="b">
    <div class="card">
        <h:graphicImage value="file:///D:/Project/OnlineBookStore/OnlineBookStore/images/#{b.cover_photo}" alt="Cover" />
        <div class="book-title">#{b.bookname}</div>
        <div class="book-info">Author: #{b.authorname}</div>
        <div class="book-info">Type: #{b.booktype.type}</div>
        <div class="book-info">Price: â‚¹#{b.price}</div>
        <div class="book-info">Available: #{b.available ? 'Yes' : 'No'}</div>

        <div class="buttons">
            <!-- Edit Button -->
            <h:form>
                <h:commandButton value="Edit" action="#{bookBean.loadBook(b.id)}" />
            </h:form>

            <!-- Delete Button -->
            <h:form>
                <h:commandButton value="Delete" action="#{bookBean.deleteBook(b.id)}"
                                 onclick="if(!confirm('Are you sure?')) return false;" />
            </h:form>
        </div>
    </div>
</ui:repeat>


</h:body>
</html>
