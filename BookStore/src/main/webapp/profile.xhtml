<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="jakarta.faces.facelets">

<h:head>
    <title>My Profile</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet"/>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <style>
        body {
            background-color: #f8f9fa;
        }
        .card {
            border-radius: 15px;
        }
        .card:hover {
            box-shadow: 0 0 20px rgba(0,0,0,0.15);
        }
        .form-label {
            font-weight: 600;
        }
        .header-title {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .required-star::after {
            content:" *";
            color: red;
        }
    </style>
</h:head>

<h:body>

    <!-- Header -->
    <div class="sticky-top bg-white shadow-sm">
        <ui:include src="/header.xhtml" />
    </div>

    <!-- Container -->
    <div class="container mt-5 mb-5">

        <h2 class="text-center mb-4 header-title">My Profile</h2>

        <h:form>
            <div class="card p-4 shadow-sm mx-auto" style="max-width: 600px;">

                <!-- Full Name -->
                <div class="mb-3">
                    <label class="form-label required-star">
                        <i class="fa fa-user me-1"></i> Full Name
                    </label>
                    <h:inputText value="#{profileBean.user.fullname}" 
                                 required="true"
                                 styleClass="form-control" />
                </div>

                <!-- Phone -->
                <div class="mb-3">
                    <label class="form-label required-star">
                        <i class="fa fa-phone me-1"></i> Phone
                    </label>
                    <h:inputText value="#{profileBean.user.phone}" 
                                 required="true"
                                 styleClass="form-control" />
                </div>

                <!-- Username -->
                <div class="mb-3">
                    <label class="form-label required-star">
                        <i class="fa fa-user-tag me-1"></i> Username
                    </label>
                    <h:inputText value="#{profileBean.user.username}" 
                                 required="true"
                                 styleClass="form-control" />
                </div>

                <!-- Email -->
                <div class="mb-3">
                    <label class="form-label required-star">
                        <i class="fa fa-envelope me-1"></i> Email
                    </label>
                    <h:inputText value="#{profileBean.user.email}" 
                                 required="true"
                                 styleClass="form-control" />
                </div>

                <!-- Group (disabled) -->
                <div class="mb-3">
                    <label class="form-label">
                        <i class="fa fa-users me-1"></i> Group (Role)
                    </label>
                    <h:inputText value="#{profileBean.user.groupid.groupname}" 
                                 disabled="true"
                                 styleClass="form-control bg-light" />
                </div>

                <!-- Buttons -->
                <div class="row mt-4">
                    <div class="col-12">
                        <h:commandButton value="Update Profile"
                                         action="#{profileBean.updateProfile}"
                                         styleClass="btn btn-primary w-100 fw-bold"/>
                    </div>
                </div>
            </div>
        </h:form>

    </div>

</h:body>
</html>
