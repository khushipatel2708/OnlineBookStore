<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="jakarta.faces.facelets">

    <h:head>
        <title>Contact Us</title>

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <style>
            body {
                background-color: #f0f2f5;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            }

            .sticky-header-wrapper {
                position: sticky;
                top: 0;
                z-index: 1000;
                background-color: white;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }

            .contact-container {
                max-width: 550px;
                margin: 60px auto;
                padding: 35px;
                background-color: white;
                border-radius: 12px;
                box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            }

            .contact-header {
                text-align: center;
                margin-bottom: 25px;
            }

            .contact-header h2 {
                color: #0066cc;
                font-weight: 700;
            }

            .form-label {
                font-weight: 500;
            }

            .form-control {
                border-radius: 8px;
            }

            .btn-contact {
                background-color: #0066cc;
                color: white;
                font-weight: 600;
                border-radius: 8px;
                width: 100%;
                transition: background-color 0.3s, transform 0.2s;
            }

            .btn-contact:hover {
                background-color: #3385ff;
                transform: translateY(-2px);
            }

            .messages {
                margin-top: 15px;
                color: red;
                text-align: center;
                font-weight: 500;
            }
            #jakarta_faces_developmentstage_messages {
                display: none !important;
            }
        </style>
    </h:head>

    <h:body>

        <!-- Include Header -->
        <div class="sticky-header-wrapper">
            <ui:include src="/header.xhtml" />
        </div>

        <div class="contact-container">
            <div class="contact-header">
                <h2><i class="bi bi-envelope-fill me-2"></i>Contact Us</h2>
                <p class="text-muted">Send your message and we will reply soon.</p>
            </div>

            <h:form>

                <div class="mb-3">
                    <h:outputLabel value="Your Email:" styleClass="form-label"/>
                    <h:outputText value="#{loginBean.loggedInUser.email}" styleClass="form-control"/>
                </div>

                <div class="mb-3">
                    <h:outputLabel value="Subject:" styleClass="form-label"/>
                    <h:inputText value="#{contactBean.subject}" required="true" styleClass="form-control"/>
                </div>

                <div class="mb-3">
                    <h:outputLabel value="Message:" styleClass="form-label"/>
                    <h:inputTextarea value="#{contactBean.message}" rows="6" required="true" styleClass="form-control"/>
                </div>

                <h:commandButton value="Send Message"
                                 action="#{contactBean.sendMessage}"
                                 styleClass="btn btn-contact btn-primary"/>

                <!--<h:messages globalOnly="true" styleClass="messages" />-->

            </h:form>
        </div>

        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

        <h:panelGroup rendered="#{flash.contactSuccess}">
    <script>
        Swal.fire({
            icon: 'success',
            title: 'Message Sent!',
            text: 'Your message has been sent successfully.',
            confirmButtonText: 'OK'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = 'user.jsf';
            }
        });
    </script>
</h:panelGroup>

    </h:body>
</html>
