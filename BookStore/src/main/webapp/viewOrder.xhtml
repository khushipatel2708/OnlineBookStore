<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core">
    <h:head>
        <title>View Order</title>

        <!-- Bootstrap & Icons -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"/>

        <style>
            body {
                background-color: #f0f2f5;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin:0;
                padding-top:70px;
            }
             .sticky-header-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1030;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            height: 65px;
        }
            .main-layout {
                display:flex;
                justify-content:center;
                padding:25px;
            }
            .order-details-card {
                background:white;
                border-radius:15px;
                box-shadow:0 10px 25px rgba(0,0,0,0.1);
                padding:25px;
                max-width:800px;
                width:100%;
                transition: transform 0.3s, box-shadow 0.3s;
            }
            .order-details-card:hover {
                transform:translateY(-5px);
                box-shadow:0 15px 35px rgba(0,0,0,0.2);
            }
            .order-header {
                display:flex;
                justify-content:space-between;
                align-items:center;
                margin-bottom:20px;
            }
            .order-header h3 {
                margin:0;
                font-weight:700;
                color:#2c3e50;
            }
            .status-badge {
                padding:6px 14px;
                border-radius:20px;
                font-size:0.9rem;
                font-weight:600;
                color:white;
            }
            .status-pending {
                background-color:#f39c12;
            }
            .status-delivered {
                background-color:#27ae60;
            }

            .book-cover {
                width:150px;
                height:150px;
                border-radius:12px;
                overflow:hidden;
                margin-bottom:20px;
            }
            .book-cover img {
                width:100%;
                height:100%;
                object-fit:cover;
                transition: transform 0.3s;
            }
            .book-cover img:hover {
                transform:scale(1.05);
            }

            .order-info {
                font-size:1rem;
                color:#555;
                margin-bottom:15px;
            }
            .order-info i {
                color:#0d6efd;
                margin-right:5px;
            }

            .btn-back {
                background-color:#6c757d;
                color:white;
                border:none;
                border-radius:8px;
                padding:8px 16px;
                font-weight:600;
                text-decoration:none;
                transition:all 0.3s;
            }
            .btn-back:hover {
                background-color:#5a6268;
                transform:translateY(-2px);
            }
        </style>
    </h:head>

    <h:body>
        <div class="sticky-header-wrapper">
            <ui:include src="/header.xhtml" />
        </div>

        <div class="main-layout">
            <h:form>
                <div class="order-details-card" data-aos="fade-up">
                    <div class="order-header">
                        <h3>Order ##{orderBean.selectedOrder.orderId}</h3>
                        <span class="status-badge #{orderBean.selectedOrder.status eq 'Pending' ? 'status-pending' : 'status-delivered'}">
                            #{orderBean.selectedOrder.status}
                        </span>
                    </div>

                    <div class="d-flex flex-wrap gap-4">
                        <!-- Order Info -->
                        <div class="flex-grow-1">
                            <div class="order-info"><i class="bi bi-calendar-event-fill"></i> <strong>Date:</strong> #{orderBean.selectedOrder.orderDate}</div>
                            <div class="order-info"><i class="bi bi-clock-fill"></i> <strong>Time:</strong> #{orderBean.selectedOrder.orderTime}</div>
                            <div class="order-info"><i class="bi bi-currency-rupee"></i> <strong>Total:</strong> â‚¹#{orderBean.selectedOrder.totalPrice + 30}</div>
                            <div class="order-info"><i class="bi bi-person-fill"></i> <strong>User:</strong> #{orderBean.selectedOrder.userId.name}</div>
                            <div class="order-info"><i class="bi bi-geo-alt-fill"></i> <strong>Shipping Address:</strong> #{orderBean.selectedOrder.userId.address}</div>
                        </div>
                    </div>

                    <div class="mt-4">
                        <h:commandLink action="userOrders.jsf">
                            <span class="btn-back"><i class="bi bi-arrow-left-circle me-1"></i> Back to Orders</span>
                        </h:commandLink>
                    </div>
                </div>
            </h:form>
        </div>

        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
        <script>
            AOS.init({duration: 1000, once: true});
        </script>
    </h:body>
</html>
