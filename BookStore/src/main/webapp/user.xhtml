<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets">
    <h:head>
    <title>User Dashboard</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
    
    <style>
        /* Define consistent primary color (needed for dashboard buttons) */
        :root {
            --bs-primary: #0066cc;
        }
        .dashboard-content {
            padding: 20px 40px;
        }
    </style>
</h:head>

<h:body class="bg-light">

    <ui:include src="/header.xhtml" /> 
    
    <div class="container dashboard-content">
        <h2 class="mt-4">Welcome, User!</h2>

        <h:panelGroup rendered="#{not empty loginBean.token}" styleClass="mb-3 d-block">
            <b style="color:var(--bs-primary);">Token:</b>
            <h:outputText value="#{loginBean.token}" style="color:var(--bs-primary)" />
        </h:panelGroup>

        <br/><br/>
        <h:form class="d-flex flex-wrap gap-2">
            <h:commandButton value="Book List"
                             action="UserBookList.xhtml?faces-redirect=true"
                             styleClass="btn btn-primary" />
            <h:commandButton value="profile"
                             action="profile.xhtml?faces-redirect=true"
                             styleClass="btn btn-primary" />
            <h:commandButton value="shipping"
                             action="shippingForm.xhtml?faces-redirect=true"
                             styleClass="btn btn-primary" />
            <h:commandLink value="Logout" action="#{loginBean.logout}" styleClass="btn btn-outline-danger" />
        </h:form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
</h:body>
</html>